# 메인 페이지 우측 상단 인기게임 순위 및 게임별 리더보드 요구사항

## 개요
블로그 메인 페이지(`blog/index.html`)의 우측 상단에 인기게임 순위를 표시하고, 각 게임별로 독립적인 리더보드를 구현합니다. 기존 리액션 테스트 게임의 리더보드 기능을 유지하면서, 벽돌 시뮤레이션 게임 등 다른 게임들에도 동일한 리더보드 시스템을 적용합니다.

## 기능 요구사항

1. **우측 상단 인기게임 순위**
   - 메인 페이지 우측 상단에 인기게임 순위 박스 표시
   - 인기도 기준: 최근 랭킹 등록자의 timestamp가 최신인 게임이 상위에 표시
   - **상위 3개 게임만 표시**
   - 각 게임별로 게임 이름과 **1~5위까지의 순위만 표시**
   - 게임 클릭 시 해당 게임으로 이동 또는 해당 게임의 리더보드 팝업
   - 반응형 디자인 지원 (모바일 환경에서는 적절히 배치)

2. **게임별 독립 리더보드**
   - 각 게임(Reaction Test, Brick Simulation 등)별로 독립적인 리더보드 구현
   - 각 게임 내에서는 기존과 동일한 방식으로 리더보드 표시
   - 게임별 리더보드는 별도의 데이터베이스/컬렉션 사용
   - 인터페이스와 코드는 공유하되 데이터만 분리

3. **게임별 리더보드 호환성**
   - 기존 Reaction Test 게임의 리더보드 기능 100% 유지
   - Brick Simulation 게임에도 동일한 인터페이스로 리더보드 구현
   - 각 게임의 특성에 맞는 점수 기록 및 표시 방식 적용
   - 현재 사용자의 기록 강조 표시 (기존 기능과 동일)

4. **데이터 구조 및 저장**
   - 각 게임별로 별도의 Firebase 콜렉션 사용 (ex. `/leaderboard_reaction`, `/leaderboard_brick`)
   - 리더보드 데이터는 실시간 업데이트 및 구독 기능 제공
   - 인기게임 순위를 위한 최근 등록 시각 캐싱/쿼리 구조 구현
   - **상위 3개 게임만 조회하고, 각 게임당 1~5위까지만 표시하도록 쿼리 최적화**
   - 각 게임별 데이터 구조 표준화 (user, score, timestamp, game 등)

5. **다국어 지원**
   - 한국어/영어 언어 설정에 따라 리더보드 및 인기게임 순위 텍스트 변경
   - 기존 번역 시스템과 완벽 통합

## 기술적 요구사항

1. **코드 구조 및 모듈화**
   - SOLID 원칙을 적용한 모듈화된 JavaScript 코드 구조
   - `leaderboard.js` 모듈을 공용화하여 모든 게임에서 재사용
   - DB 커넥터는 DI(Dependency Injection) 패턴 적용
   - 각 게임에서는 collectionName만 다르게 지정하여 동일 코드 재사용

2. **데이터 흐름 및 구조**
   - 기존 Reaction Test의 리더보드 인터페이스 100% 호환
   - 각 게임별 데이터는 별도 Firebase 콜렉션에 저장
   - 인기게임 순위를 위한 최신 등록 시각 캐싱/쿼리 구조
   - 실시간 업데이트 및 구독 기능 제공

3. **UI/UX 및 스타일링**
   - 기존 블로그 디자인과 일관된 스타일 적용
   - 우측 상단 인기게임 순위 박스와 게임별 리더보드 UI 구분
   - 인기게임 순위 박스는 스크롤 시에도 화면에 고정 가능
   - 모바일 환경에서도 최적화된 표시 방식 적용

4. **성능 및 보안**
   - 데이터 로딩 중 상태 표시 및 오류 처리
   - 데이터 캐싱을 통한 불필요한 데이터베이스 접근 최소화
   - 점수 조작 방지 및 중복 등록 방지를 위한 보안 규칙 적용

## 구현 단계

1. **공용 리더보드 모듈 구현**
   - `leaderboard.js` 모듈 공용화 및 파라미터화
   - 기존 Reaction Test 게임의 리더보드 기능 호환성 유지
   - DB 커넥터 분리 및 DI 패턴 적용
   - 인기게임 순위 조회 및 정렬 기능 구현

2. **Firebase 구조 확장**
   - 각 게임별 콜렉션 설정 (`/leaderboard_reaction`, `/leaderboard_brick` 등)
   - 각 게임의 데이터 구조 표준화 및 보안 규칙 설정
   - 최근 등록 시각 기반 인기게임 순위 쿼리 구조 구현

3. **UI 구현**
   - `blog/index.html`에 우측 상단 인기게임 순위 박스 추가
   - Brick Simulation 게임에 리더보드 기능 추가
   - 각 게임별 리더보드 UI 구현 및 통합
   - 반응형 디자인 및 다국어 지원 구현

4. **테스트 및 배포**
   - 각 게임별 리더보드 기능 테스트
   - 인기게임 순위 정렬 및 표시 기능 테스트
   - 성능 최적화 및 오류 처리 개선

## 확장성 및 유지보수

1. **새로운 게임 추가 용이성**
   - 새 게임 추가 시 collectionName만 추가하여 리더보드 기능 즉시 사용 가능
   - 플러그인 방식의 확장 구조로 구현
   - 새 게임은 자동으로 인기게임 순위에 포함

2. **고급 기능 확장**
   - 시간별 필터링 (일간/주간/월간/전체)
   - 사용자별 필터링 및 개인화 기능
   - 소셜 공유 및 친구 초대 기능

3. **코드 품질 및 유지보수성**
   - SOLID 원칙 준수로 코드 품질 및 확장성 보장
   - 테스트 코드 및 단위 테스트 구현
   - 상세한 코드 독 및 API 문서화